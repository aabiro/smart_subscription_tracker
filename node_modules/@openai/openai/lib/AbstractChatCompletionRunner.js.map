{"version":3,"file":"AbstractChatCompletionRunner.js","sources":["./AbstractChatCompletionRunner.ts"],"names":[],"mappings":"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"}